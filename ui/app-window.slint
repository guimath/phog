import { Button, VerticalBox, HorizontalBox} from "std-widgets.slint";

export component AppWindow inherits Window {
    in property <int> photo_num: 0;
    in property <int> total_num: 0;
    in property <string> photo_name: "N/A";
    in property <image> photo_path;
    callback prev();
    callback next();
    callback edit();
    callback delete();
    callback close();
    forward-focus: my-key-handler;
    my-key-handler := FocusScope {
        key-pressed(event) => {
            if (event.text == Key.LeftArrow) {
                root.prev();
            }
            else if (event.text == Key.RightArrow) {
                root.next();
            }
            else if (event.text == "d") {
                root.delete();
            }
            else if (event.text == "e") {
                root.edit();
            }
            else if (event.text == Key.Escape) {
                root.close();
            }
            accept
        }
    }
    VerticalBox {
        Image {
            source: root.photo_path;
            visible: true;
        }
        Text {
            text: "\{root.photo_name} (\{root.photo_num}/\{root.total_num})";
            font-size: 25pt;
            height: 25pt;
        }

        // HorizontalBox {
        //     Button {
        //         text: "Delete";
        //         clicked => {
        //             root.delete();
        //         }
        //     }
        //     Button {
        //         text: "To edit";
        //         clicked => {
        //             root.edit();
        //         }
        //     }
        //     Button {
        //         text: "Prev";
        //         clicked => {
        //             root.prev();
        //         }
        //     }
        //     Button {
        //         text: "Next";
        //         clicked => {
        //             root.next();
        //         }
        //     }
        // }
    }
}
